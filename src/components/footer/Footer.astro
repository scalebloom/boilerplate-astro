---
import "./footer.css";
import Logo from "../logo.astro";
import { siteConfig } from "../../config/site";

// Social platforms config - only renders if URL is defined in site.ts
const socialPlatforms = [
  { key: "facebook", label: "Facebook", icon: "icon-facebook" },
  { key: "instagram", label: "Instagram", icon: "icon-instagram" },
  { key: "linkedin", label: "LinkedIn", icon: "icon-linkedin" },
  { key: "x", label: "X", icon: "icon-x" },
] as const;

type SocialKey = (typeof socialPlatforms)[number]["key"];
const activeSocials = socialPlatforms.filter(
  (p) => siteConfig.social[p.key as SocialKey]
);
---

<footer>
  <div class="footer-inner-container">
    <h2 class="sr-only">Footer navigation and site information</h2>
    <div class="footer-cols">
      <div class="footer-col">
        <!-- Logo -->
        <a
          class="footer-logo-link-wrapper"
          href="/"
          rel="home"
          aria-current="page"
          aria-label="Home"
          ><Logo />
        </a>
        <!-- Social media links -->
        {activeSocials.length > 0 && (
          <div class="footer-social-media-icon-links">
            {activeSocials.map((platform) => (
              <a
                href={siteConfig.social[platform.key as SocialKey]}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={`Visit our ${platform.label} page`}
              >
                <svg class="footer-social-media-icon">
                  <use href={`/sprite.svg#${platform.icon}`} />
                </svg>
              </a>
            ))}
          </div>
        )}
      </div>
      <div class="footer-col">
        <h3 id="footer-company-links">Company</h3>
        <nav aria-labelledby="footer-company-links">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about/">About Us</a></li>
            <li><a href="/contact/">Contact</a></li>
          </ul>
        </nav>
      </div>
      <div class="footer-col">
        <h3 id="footer-resource-links">Resources</h3>
        <nav aria-labelledby="footer-resource-links">
          <ul>
            <li><a href="/jobs/">Jobs</a></li>
            <li><a href="/brand-kit/">Brand Kit</a></li>
          </ul>
        </nav>
      </div>
      <div class="footer-col">
        <h3>Contact</h3>
        <address>
          <div>
            <a href={`mailto:${siteConfig.contact.email}`}
              >{siteConfig.contact.email}</a
            >
          </div>
          <div>
            Phone: <a href={`tel:${siteConfig.contact.phone}`}
              >{siteConfig.contact.phoneDisplay}</a
            >
          </div>
          <div>
            {siteConfig.location.addressLocality}
            {siteConfig.location.addressRegion}
          </div>
        </address>
      </div>
    </div>
    <small class="footnote footer-footnote"
      >{siteConfig.name} Â©
      | <a class="no-break" href="/privacy-policy/">Privacy Policy</a>
      | <a href="/accessibility-statement/">Accessibility</a>
    </small>
  </div>
</footer>
